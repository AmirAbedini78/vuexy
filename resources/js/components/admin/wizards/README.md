# Admin Listing Edit Wizards

این سیستم شامل ویزاردهای مودال برای ادیت لیستینگ‌ها در داشبورد ادمین است که بر اساس نوع لیستینگ، ویزارد مناسب را انتخاب و نمایش می‌دهد.

## ساختار فایل‌ها

### 1. `ListingEditWizard.vue` (فایل اصلی)
- **وظیفه**: انتخاب ویزارد مناسب بر اساس `listing_type`
- **ویژگی‌ها**:
  - تشخیص خودکار نوع لیستینگ
  - نمایش ویزارد مناسب
  - مدیریت رویدادهای `close` و `updated`

### 2. `SingleDateWizard.vue`
- **نوع**: لیستینگ‌های تک تاریخی
- **مراحل**:
  1. **Basic Information**: اطلاعات پایه، تاریخ‌ها، قیمت و ظرفیت
  2. **Detailed Information**: سطح تجربه، فعالیت‌ها و موارد شامل
  3. **Additional Information**: سیاست‌ها، شرایط و یادداشت‌ها

### 3. `MultiDateWizard.vue`
- **نوع**: لیستینگ‌های چند تاریخی
- **مراحل**:
  1. **Basic Information**: عنوان، توضیحات و فعالیت‌ها
  2. **Date Range**: محدوده تاریخ و موارد شامل
  3. **Pricing & Details**: قیمت، ظرفیت و سیاست‌ها

### 4. `OpenDateWizard.vue`
- **نوع**: لیستینگ‌های باز تاریخی
- **مراحل**:
  1. **Basic Information**: اطلاعات پایه و فعالیت‌ها
  2. **Date Range & Periods**: محدوده تاریخ و دوره‌ها
  3. **Pricing & Details**: قیمت، ظرفیت و سیاست‌ها

## ویژگی‌های مشترک

### شماره‌گذاری مراحل
- نمایش شماره مرحله فعلی در هدر
- شمارنده "Step X of Y" با رنگ آبی
- استپر عمودی (vertical) برای نمایش بهتر در مودال

### فیلدهای مشترک
- **اطلاعات پایه**: عنوان، زیرعنوان، توضیحات
- **تاریخ‌ها**: تاریخ شروع و پایان
- **قیمت و ظرفیت**: قیمت، حداقل و حداکثر ظرفیت
- **سطح تجربه**: مبتدی، متوسط، پیشرفته، متخصص
- **سطح آمادگی جسمانی**: کم، متوسط، بالا، خیلی بالا
- **زبان گروه**: انگلیسی، اسپانیایی، فرانسوی و غیره
- **مکان‌ها**: موقعیت‌های جغرافیایی
- **فعالیت‌ها**: فعالیت‌های شامل در تور

### مودال‌های پیشرفته
- **Itinerary/Accommodation**: مدیریت برنامه روزانه و اقامت
- **Special Addons**: مدیریت خدمات اضافی
- **Packages**: مدیریت بسته‌های تور (فقط Single Date)
- **Periods**: مدیریت دوره‌ها (Multi Date و Open Date)

### اعتبارسنجی
- اعتبارسنجی فیلدهای اجباری
- نمایش پیام‌های خطا
- بررسی نوع داده‌ها (اعداد، تاریخ‌ها)

## نحوه استفاده

### 1. در داشبورد ادمین
```vue
<VDialog v-model="showListingEditDialog" max-width="1200" persistent>
  <VCard>
    <VCardTitle>Edit Listing</VCardTitle>
    <VCardText>
      <ListingEditWizard
        :listing="selectedListing"
        @close="showListingEditDialog = false"
        @updated="handleListingUpdated"
      />
    </VCardText>
  </VCard>
</VDialog>
```

### 2. مدیریت رویدادها
```javascript
const handleListingUpdated = (updatedData) => {
  // به‌روزرسانی لیست لیستینگ‌ها
  loadListings();
  // بستن مودال
  showListingEditDialog.value = false;
};
```

## استایل و طراحی

### ویژگی‌های بصری
- **استپر عمودی**: نمایش مراحل به شکل عمودی برای فضای بهتر
- **شمارنده مرحله**: نمایش واضح مرحله فعلی
- **دکمه‌های ناوبری**: Previous/Next با وضعیت فعال/غیرفعال
- **فیلدهای فرم**: طراحی یکپارچه با Vuetify
- **پیام‌های خطا**: نمایش واضح خطاها در زیر فیلدها

### رنگ‌بندی
- **مرحله فعلی**: آبی (primary)
- **مراحل تکمیل شده**: سبز (success)
- **مراحل باقی‌مانده**: خاکستری (secondary)
- **دکمه‌های عملیات**: آبی (primary) و سبز (success)

## نکات فنی

### مدیریت State
- هر ویزارد state خودش را مدیریت می‌کند
- داده‌ها از props اولیه بارگذاری می‌شوند
- تغییرات در فرم محلی ذخیره می‌شوند

### API Integration
- استفاده از `$api` برای به‌روزرسانی
- مدیریت خطاها و loading state
- ارسال داده‌ها در فرمت مناسب

### Performance
- Lazy loading ویزاردها
- بهینه‌سازی re-render
- مدیریت حافظه برای آرایه‌های بزرگ

## توسعه آینده

### قابلیت‌های پیشنهادی
- **Drag & Drop**: برای مرتب‌سازی آیتم‌ها
- **Auto-save**: ذخیره خودکار تغییرات
- **Version History**: تاریخچه تغییرات
- **Bulk Edit**: ویرایش گروهی
- **Template System**: قالب‌های از پیش تعریف شده

### بهبودهای UI/UX
- **Dark Mode**: پشتیبانی از حالت تاریک
- **Responsive Design**: بهینه‌سازی برای موبایل
- **Accessibility**: بهبود دسترسی‌پذیری
- **Internationalization**: پشتیبانی از زبان‌های مختلف





















